<!DOCTYPE html>
<html>
<head>
	<title>Login Test</title>
	<script
  src="http://code.jquery.com/jquery-3.2.1.min.js"
  integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
  crossorigin="anonymous"></script>
  <script src="https://www.gstatic.com/firebasejs/4.2.0/firebase.js"></script>

</head>
<body>

<button id="sign-in">Sign-in with Google</button>
<button id="sign-out">Sign Out</button>

<script type="text/javascript">
	//GAuth Web client id: 258703035332-75citlmv9as7ifscqmqjf0j9ki077drm.apps.googleusercontent.com
	//client secret: iN1H2q9OKwolPF7u_iDa8iwN



function GoogApp(){
	this.config = {
		apiKey: "AIzaSyAq8BljGpg_85mt8OWD4ndWaQGxFnXVpIE",
		authDomain: "bootcampproject1.firebaseapp.com",
		databaseURL: "https://bootcampproject1.firebaseio.com",
		projectId: "bootcampproject1",
		storageBucket: "bootcampproject1.appspot.com",
		messagingSenderId: "258703035332"
	};
  	firebase.initializeApp(this.config);
  	this.auth = firebase.auth();	
	this.database = firebase.database();
	this.users = this.database.ref('users');
	this.storage = firebase.storage();
	this.signInButton = document.getElementById('sign-in');
	this.signOutButton = document.getElementById('sign-out');

	this.signInButton.addEventListener('click', this.signIn.bind(this));
	this.signOutButton.addEventListener('click', this.signOut.bind(this));
	this.onAuthStateChanged = function(user) {
	  if (user) { // User is signed in!
	    // Get profile pic and user's name from the Firebase user object.
	    var profilePicUrl = user.photoURL;   // TODO(DEVELOPER): Get profile pic.
	    var userName = user.displayName; 
	    console.log(userName);
	    users.push(user);
	    } 
	}
	this.auth.onAuthStateChanged(this.onAuthStateChanged.bind(this));
}
  
  GoogApp.prototype.signIn = function(e){
  		e.preventDefault();
		var provider = new firebase.auth.GoogleAuthProvider();
		this.auth.signInWithPopup(provider);    		
  }

  GoogApp.prototype.signOut = function(e){
  	e.preventDefault();
  	this.auth.signOut();
  	console.log("signed out");
  }

var y = new GoogApp();

</script>
</body>
</html>